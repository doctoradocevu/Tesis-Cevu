%%%%%%%%%%%%%%%%%%%%% Paquetes extra %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% M\'{a}s informaci\'{o}n en http://en.wikibooks.org/wiki/LaTeX/Internationalization
\usepackage[utf8x]{inputenc} % Usado para ingresar acentos y s\'{\i}mbolos por teclado
%\usepackage[latin-1]{inputenc} % Usado para ingresar acentos y s\'{\i}mbolos por teclado
\usepackage[T1]{fontenc} % font encoding

% fuentes
%\usepackage[sc]{mathpazo}

\usepackage{latexsym,amsfonts,amssymb,bbm,amsmath,amsthm,mathtools} % S\'{\i}mbolos matem\'{a}ticos

\renewcommand{\qedsymbol}{$\blacksquare$} % Redefine the QED symbol to be a filled square vs. the default unfilled square





%\usepackage[libertine,cmintegrals,cmbraces,vvarbb]{newtxmath}
\usepackage{multirow,multicol,booktabs} % Entornos varios para tablas
\usepackage{caption}
\usepackage{subcaption} % Subfiguras y subtablas

\usepackage{tikz} %graficas
\usepackage{pgf}
\usepackage{enumitem}
%para las comillas
\usepackage[autostyle=true]{csquotes}

% para unidades

\usepackage{siunitx}
\sisetup{detect-all}

% tener cuidado con este paquete si da error!!!!
%\usepackage[nospace]{varioref}
\usepackage[spanish]{cleveref}

% para que automaticamente se ajuste a el ancho 

%\usepackage{tabularx}
%\usepackage{tabulary}
\usepackage{tabularray}
\UseTblrLibrary{booktabs} 

% Existen tres tama\~{n}os standard para las figuras, s\'{o}lo por conveniencia
% Estos son los tama\~{n}os por default. Descomentar y cambiar seg\'{u}n la necesidad
%\setlength{\imsizeL}{0.9\textwidth}
%\setlength{\imsize}{0.7\textwidth}
%\setlength{\imsizeS}{0.5\textwidth}

%%%%%%%%%%%%%%%%%%%%%%%%%% Estilo de la bibliograf\'{\i}a %%%%%%%%%%%%%%%%%%%%%%
\usepackage[nonamebreak,sort&compress]{natbib}
\setcitestyle{numbers,square,comma}
\bibliographystyle{ibtesis}


\usepackage[xindy,acronyms]{glossaries}
%\usepackage{glossaries-spanish}
\setacronymstyle{long-short}

% coloco los valores de las referencias y glosario
\makeglossaries 
\input{glosario.tex}
\input{acronimos.tex}

\usepackage[parfill]{parskip}



%%%%%%%%%%%%%%%%%%%% Nomenclatura %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage[noprefix,notintoc,spanish]{nomencl} % Para armar la tabla de abreviaturas (ver wiki del CAB)
%\makenomenclature
%
%\renewcommand{\nompreamble}{%
%Unidades m\'{a}s comunes, s{\'{\i}}mbolos, abreviaturas y siglas
%utilizadas. Se incluye la p\'{a}gina con una descripci\'{o}n m\'{a}s detallada cuando sea
%pertinente.\\ \\
%}
%\renewcommand{\pagedeclaration}[1]{,~#1}
%\setlength{\nomitemsep}{-0.5\parsep}
%
%\newcommand\listofabbr{%
%   \if@twocolumn
%     \@restonecoltrue\onecolumn
%   \else
%      \@restonecolfalse
%   \fi
%   \cleardoublepage
%   \phantomsection
%   \addcontentsline{toc}{chapter}{\nomname}%
%   \@mkboth{\MakeUppercase\nomname}{\MakeUppercase\nomname}%
%   \printnomenclature[2.5cm]%
%   \if@restonecol\twocolumn\fi}
%
%\newcommand{\abbr}[3]{\phantomsection\label{abbr:#1}\nomenclature[#1 ]{#2}{#3}}
%\newcommand{\abbrp}[3]{\phantomsection\label{abbr:#1}\nomenclature[#1 ]{#2}{#3, \pageref{abbr:#1}}}

%%%%%%%%%%%%% Definici\'{o}n de nuevos comandos %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Secciones (equivalentes a los normales de latex, pero facilitan el labeling/referencia
%\newcommand{\chap}[2]{\chapter{#1\label{cap:#2}}}
%\newcommand{\sect}[2]{\section{#1\label{sec:#2}}}
%\newcommand{\ssect}[2]{\subsection{#1\label{ssec:#2}}}
%\newcommand{\sssect}[2]{\subsubsection{#1\label{sssec:#2}}}
%\newcommand{\appen}[2]{\chapter{#1\label{apen:#2}}}
%\newcommand{\refcap}[1]{Cap.~\ref{cap:#1}}
%\newcommand{\refsec}[1]{Sec.~\ref{sec:#1}}
%\newcommand{\refapen}[1]{Ap\'{e}ndice~\ref{apen:#1}}

% Ecuaciones (para agregar labels y referencias f\'{a}cil)
%\newcommand{\eq}[2]{%           %Entorno equation con label
% \begin{equation}%
% #1 \label{eq:#2}%
% \end{equation}}
%\newcommand{\eqp}[3]{%          %Igual que el anterior, agregando signo de puntuaci\'{o}n
% \eq{#1 \hspace{0.3cm} \textrm{#2}}{#3}}
%\newcommand{\eqnn}[1]{%
% \begin{equation*}%          %Entorno equation sin n\'{u}mero
% #1 \nonumber%
% \end{equation*}}
%\newcommand{\eqpnn}[2]{%        %Igual que el anterior, agregando signo de puntuaci\'{o}n
% \eqnn{#1 \hspace{0.3cm} \textrm{#2}}}
%\newcommand{\subeq}[2]{%        %Entorno subequations con label
% \begin{subequations}%
% #1 \label{eq:#2}%
% \end{subequations}}
%\newcommand{\refec}[1]{Ec.~(\ref{eq:#1})}   %Para referirse a las ecuaciones definidas con los entornos anteriores
%\newcommand{\refeq}[1]{(\ref{eq:#1})}
%\newcommand{\parcial}[2]{\frac{\partial #1}{\partial #2}}     %Derivadas parciales
%\newcommand{\parcialconst}[3]{\left.\parcial{#1}{#2}\right|_{#3}}

% Tablas y Figuras (para simplificar el llamado y no olvidarse de nada)
%\newcommand{\Figinsert}[6]{%             %Inserta una figura: #1 es el nombre del archivo, el label queda fig:#1
% \begin{figure}[!#6]%                                      #2 es el ancho de la figura, #3 el \'{a}ngulo de giro
% \begin{center}%                                           #4 es el caption, #5 es el caption corto para el {\'{\i}}ndice
% \includegraphics*[width=#2,angle=#3]{#1}%                 #6 es el lugar (b,t,h,etc.)
% \end{center}%
% \vspace{-3ex}%
% \caption[#5]{#4 \label{fig:#1}}%
% \end{figure}}
%\newcommand{\Tabinsert}[5]{%             %Inserta una tabla: el label queda tab:#1
% \begin{table}[!#5]%                                      #2 es el contenido de la tabla (tabular)
% \begin{center}%                                          #3 es el caption, #4 es el caption corto para el {\'{\i}}ndice
% #2%                                                      #5 es el lugar (b,t,h,etc.)
% \end{center}%
% \vspace{-3ex}%  
% \caption[#4]{#3 \label{tab:#1}}%
% \end{table}}
%\newcommand{\reffig}[1]{Fig.~\ref{fig:#1}}      %Para referirse a las tablas y figuras definidas con los entornos anteriores
%\newcommand{\reftab}[1]{Tabla~\ref{tab:#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




% teoremas


\newtheoremstyle{ocrenum} % Theorem style name
{6pt} % Space above
{6pt} % Space below
{\normalfont} % Body font
{} % Indent amount
{} % Theorem head font
{} % Punctuation after theorem head
{0.25em} % Space after theorem head
{\small\sffamily\bfseries\color{ocre}\thmname{#1}~\thmnumber{\@ifnotempty{#1}{}\@upn{#2}} % Theorem text (e.g. Theorem 2.1)
	\thmnote{\the\thm@notefont\sffamily\bfseries\color{black}---~#3.\hspace{0.25em}}} % Optional theorem note

%------------------------------------------------

% Orange theorem number and optional black title with no padding above and below
\newtheoremstyle{ocrenumbox} % Theorem style name
{0pt} % Space above
{0pt} % Space below
{\normalfont} % Body font
{} % Indent amount
{} % Theorem head font
{} % Punctuation after theorem head
{0.25em} % Space after theorem head
{\small\sffamily\bfseries\color{ocre}\thmname{#1}~\thmnumber{\@ifnotempty{#1}{}\@upn{#2}} % Theorem text (e.g. Theorem 2.1)
	\thmnote{\the\thm@notefont\sffamily\bfseries\color{black}---~#3.\hspace{0.25em}}} % Optional theorem note

%------------------------------------------------

% Black theorem number and optional black title no padding above and below
\newtheoremstyle{blacknumex} % Theorem style name
{6pt} % Space above
{6pt} % Space below
{\normalfont} % Body font
{} % Indent amount
{} % Theorem head font
{} % Punctuation after theorem head
{0.25em} % Space after theorem head
{\small\sffamily\bfseries{\raisebox{1.25pt}{\tiny\ensuremath{\blacksquare}}}~\thmname{#1}~\thmnumber{\@ifnotempty{#1}{}\@upn{#2}} % Theorem text (e.g. Theorem 2.1)
	\thmnote{\the\thm@notefont\sffamily\bfseries---~#3.\hspace{0.25em}}} % Optional theorem note

%------------------------------------------------

% Black theorem number and optional black title padding above and below
\newtheoremstyle{blacknumbox} % Theorem style name
{0pt} % Space above
{0pt} % Space below
{\normalfont} % Body font
{} % Indent amount
{} % Theorem head font
{} % Punctuation after theorem head
{0.25em} % Space after theorem head
{\small\sffamily\bfseries\thmname{#1}~\thmnumber{\@ifnotempty{#1}{}\@upn{#2}} % Theorem text (e.g. Theorem 2.1)
	\thmnote{\the\thm@notefont\sffamily\bfseries---~#3.\hspace{0.25em}}} % Optional theorem note

%------------------------------------------------

% Set the theorem style for each type of theorem-like environment by placing it under the theorem style you would like to use for it

% Orange theorem number and optional black title with padding above and below
\theoremstyle{ocrenum}
\newtheorem{proposition}{Proposición}[chapter] % Propositions, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)

% Orange theorem number and optional black title with no padding above and below
\theoremstyle{ocrenumbox}
\newtheorem{theoremeT}{Teorema}[chapter] % Theorems, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)
\newtheorem{problem}{Problema}[chapter] % Problems, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)
\newtheorem{exerciseT}{Ejercicio}[chapter] % Exercises, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)

% Black theorem number and optional black title no padding above and below
\theoremstyle{blacknumex}
\newtheorem{exampleT}{Ejemplo}[chapter] % Examples, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)
\newtheorem{notation}{Notación}[chapter] % Notations, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)
\newtheorem{vocabulary}{Vocabulario}[chapter] % Vocabularies, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)

% Black theorem number and optional black title with padding above and below
\theoremstyle{blacknumbox}
\newtheorem{definitionT}{Definición}[chapter] % Definitions, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)
\newtheorem{corollaryT}{Corolario}[chapter] % Corollaries, the first argument is the theorem name, the second the theorem title used before the number and the third optional argument is whether to number under chapters (e.g. 2.1) or sections (e.g. 2.1.1)

%----------------------------------------------------------------------------------------
%	COLORED THEOREM BOXES
%----------------------------------------------------------------------------------------

\RequirePackage[framemethod=default]{mdframed} % Required for creating colored boxes used for theorems, definitions, exercises and corollaries

% Theorem box
\newmdenv[
skipabove=7pt, % Whitespace above box
skipbelow=7pt, % Whitespace below box
backgroundcolor=black!5, % Background color
linecolor=ocre, % Border color
innerleftmargin=5pt, % Inside left margin width
innerrightmargin=5pt, % Inside right margin width
innertopmargin=5pt, % Inside top margin height
innerbottommargin=5pt, % Inside bottom margin height
leftmargin=0cm, % Outside left margin width
rightmargin=0cm % Outside right margin width
]{tBox}

% Exercise box
\newmdenv[
skipabove=7pt, % Whitespace above box
skipbelow=7pt, % Whitespace below box
rightline=false, % Right line visible
leftline=true, % Left line visible
topline=false, % Top line visible
bottomline=false, % Bottom line visible
linecolor=ocre, % Line color
linewidth=4pt, % Line width
backgroundcolor=ocre!10, % Background color
innerleftmargin=5pt, % Inside left margin width
innerrightmargin=5pt, % Inside right margin width
innertopmargin=5pt, % Inside top margin height
innerbottommargin=5pt, % Inside bottom margin height
leftmargin=0cm, % Outside left margin width
rightmargin=0cm % Outside right margin width
]{eBox}

% Definition box
\newmdenv[
skipabove=7pt, % Whitespace above box
skipbelow=7pt, % Whitespace below box
rightline=false, % Right line visible
leftline=true, % Left line visible
topline=false, % Top line visible
bottomline=false, % Bottom line visible
linecolor=ocre, % Border color
linewidth=4pt, % Border width
innerleftmargin=5pt, % Inside left margin width
innerrightmargin=5pt, % Inside right margin width
innertopmargin=0pt, % Inside top margin height
innerbottommargin=0pt, % Inside bottom margin height
leftmargin=0cm, % Outside left margin width
rightmargin=0cm % Outside right margin width
]{dBox}

% Corollary box
\newmdenv[
skipabove=7pt, % Whitespace above box
skipbelow=7pt, % Whitespace below box
rightline=false, % Right line visible
leftline=true, % Left line visible
topline=false, % Top line visible
bottomline=false, % Bottom line visible
linecolor=gray, % Line color
linewidth=4pt, % Line width
backgroundcolor=black!5, % Background color
innerleftmargin=5pt, % Inside left margin width
innerrightmargin=5pt, % Inside right margin width
innertopmargin=5pt, % Inside top margin height
innerbottommargin=5pt, % Inside bottom margin height
leftmargin=0cm, % Outside left margin width
rightmargin=0cm % Outside right margin width
]{cBox}

% Creates an environment for each type of theorem and assigns it a theorem text style from the THEOREM STYLES block above and a colored box from above
\newenvironment{theorem}{\begin{tBox}\begin{theoremeT}}{\end{theoremeT}\end{tBox}}
\newenvironment{exercise}{\begin{eBox}\begin{exerciseT}}{\hfill{\color{ocre}\tiny\ensuremath{\blacksquare}}\end{exerciseT}\end{eBox}}
\newenvironment{definition}{\begin{dBox}\begin{definitionT}}{\end{definitionT}\end{dBox}}
\newenvironment{example}{\begin{exampleT}}{\hfill{\tiny\ensuremath{\blacksquare}}\end{exampleT}}	
\newenvironment{corollary}{\begin{cBox}\begin{corollaryT}}{\end{corollaryT}\end{cBox}}

%----------------------------------------------------------------------------------------
%	REMARK ENVIRONMENT
%----------------------------------------------------------------------------------------

\newenvironment{remark}{%
	\par\small % Reduce font size for remarks
	\vspace{4pt} % Vertical whitespace
	\begin{adjustwidth}{35pt}{25pt} % Left and right padding
		\hspace{-2.5pt}%
		\begin{tikzpicture}[overlay]
			\node[draw=ocre!60,line width=1pt,circle,fill=ocre!25,font=\sffamily\bfseries,inner sep=3pt,outer sep=0pt] at (-15pt,0pt){\textcolor{ocre}{R}}; % Orange R in a circle
		\end{tikzpicture}
		\advance\baselineskip -1pt% Reduce line spacing
	}{%
	\end{adjustwidth}
}

%----------------------------------------------------------------------------------------
%	 LOAD PACKAGES THAT CLASH WITH OTHER PACKAGES
%----------------------------------------------------------------------------------------

\usepackage{tikz} % Required for drawing custom shapes and positioning elements absolutely on the page
